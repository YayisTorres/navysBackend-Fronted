<section class="suggestions-section" *ngIf="!loading && suggestedProducts.length > 0">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">También te podría gustar</h2>
      <p class="section-subtitle">Productos relacionados que podrían interesarte</p>
    </div>

    <div class="carousel-container">
      <button class="carousel-nav prev" (click)="scroll('prev')" aria-label="Anterior">
        <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
        </svg>
      </button>

      <div class="carousel" #carousel>
        <div class="carousel-item" *ngFor="let product of suggestedProducts">
          <app-product-card
            [product]="product"
            [isFavorite]="productFavorites[product.id] || false"
            [showSizes]="true"
            [showAddToCart]="true"
            cardSize="medium"
            [availableColors]="product.availableColors"
            [availableSizes]="product.availableSizes"
            [availableNumericSizes]="product.availableNumericSizes"
            [productImages]="product.productImages"
            (favoriteToggled)="onFavoriteToggled($event)"
            (productClicked)="onProductClicked(product)"
          >
          </app-product-card>
        </div>
      </div>

      <button class="carousel-nav next" (click)="scroll('next')" aria-label="Siguiente">
        <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
        </svg>
      </button>
    </div>
  </div>
</section>

<!-- Loading state -->
<div class="loading-container" *ngIf="loading">
  <div class="loading-spinner"></div>
  <p>Buscando sugerencias...</p>
</div>
